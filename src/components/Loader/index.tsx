"use client";
import React, { useLayoutEffect } from "react";
import "./style.css";
import { useSelector } from "react-redux";

const Loader = () => {
  const counter = useSelector((state: any) => state.counter.value);
  console.log(counter);

  useLayoutEffect(() => {
    console.log(counter);

    if (counter > 0) {
      document.body.style.overflow = "hidden";
    } else {
      document.body.style.overflow = "auto";
    }
  }, [counter]);

  if (counter > 0) {
    return (
      <>
        <div className=" h-screen w-screen flex justify-center items-center body">
          <svg
            version="1.0"
            xmlns="http://www.w3.org/2000/svg"
            width="800.000000pt"
            height="200.000000pt"
            viewBox="0 0 1200.000000 1200.000000"
            preserveAspectRatio="xMidYMid meet"
            className="!object-cover"
          >
            <g
              transform="translate(0.000000,1200.000000) scale(0.100000,-0.100000)"
              fill="#ffffff"
              stroke="none"
            >
              <path
                className="path"
                d="M5550 11180 c-113 -4 -266 -13 -341 -19 -83 -8 -277 -11 -495 -9
                -418 4 -426 2 -509 -82 -27 -28 -55 -50 -63 -50 -28 0 -90 -41 -137 -91 -45
                -48 -60 -73 -78 -131 -3 -9 -19 -19 -36 -23 -43 -9 -144 -77 -170 -114 -51
                -71 -3 -77 192 -26 186 49 249 45 196 -12 -13 -13 -78 -59 -144 -100 -174
                -110 -189 -128 -144 -169 38 -34 90 -24 254 54 242 113 339 133 465 94 63 -20
                80 -43 80 -110 0 -40 -6 -49 -69 -116 -91 -96 -104 -123 -99 -203 3 -48 9 -69
                25 -85 33 -32 62 -18 102 49 74 127 145 192 237 219 67 19 89 45 144 170 84
                193 122 237 217 251 142 20 494 -2 753 -47 63 -11 207 -25 320 -30 113 -6 293
                -15 401 -20 212 -11 349 -30 415 -59 56 -25 88 -71 119 -171 65 -213 77 -244
                108 -293 19 -28 81 -95 138 -147 123 -113 252 -251 348 -375 106 -136 104
                -131 51 -174 -167 -136 -418 -359 -545 -486 -127 -126 -168 -175 -260 -310
                -162 -238 -369 -527 -442 -617 -35 -43 -70 -97 -77 -119 -38 -108 -142 -201
                -331 -293 -88 -43 -172 -95 -260 -160 -83 -62 -139 -96 -155 -96 -49 0 -100
                -21 -121 -50 -12 -16 -34 -34 -49 -40 -29 -12 -109 -92 -153 -151 l-26 -37 20
-14 c21 -13 21 -14 -12 -48 -56 -60 -187 -269 -254 -405 -59 -120 -109 -251
-135 -350 -14 -55 -139 -203 -386 -456 -164 -167 -216 -227 -280 -325 -88
-133 -192 -331 -309 -589 -128 -282 -163 -347 -204 -385 -21 -19 -107 -78
-191 -130 -558 -350 -734 -482 -837 -632 -65 -94 -85 -135 -118 -237 l-27 -83
-392 -392 c-386 -387 -580 -564 -676 -619 -49 -28 -50 -29 -97 -13 -156 51
-621 124 -636 99 -8 -13 -53 -231 -83 -400 -16 -92 -29 -214 -34 -323 -7 -154
-13 -197 -50 -355 -53 -228 -70 -341 -70 -485 0 -242 47 -396 141 -466 101
-74 182 29 254 326 l28 115 128 140 c164 179 277 320 320 396 57 102 144 206
343 407 252 256 742 680 1286 1113 428 340 501 390 798 538 134 67 282 146
330 175 l87 54 31 -152 c105 -510 273 -940 431 -1100 66 -67 110 -86 206 -86
74 0 80 2 109 31 30 30 31 31 25 107 -4 42 -11 111 -17 152 -5 41 -11 134 -13
205 -2 138 -5 128 50 204 13 18 19 54 24 147 8 155 21 180 156 294 54 45 102
90 107 98 7 12 1 23 -23 43 -23 19 -29 29 -20 34 25 16 365 24 1049 24 388 0
797 -4 910 -8 249 -11 389 -1 582 39 106 21 175 30 246 30 118 0 172 14 255
69 34 22 74 43 90 46 48 12 124 90 162 168 74 153 70 308 -14 508 -88 210
-410 679 -735 1069 -138 166 -375 412 -457 476 l-56 43 -6 68 c-4 37 -9 91
-13 118 -7 59 -34 39 251 187 225 118 328 183 421 268 98 89 152 122 289 176
175 69 188 78 455 322 152 140 221 192 252 192 33 0 81 -45 335 -318 359 -384
511 -516 671 -582 90 -37 140 -74 206 -150 94 -108 158 -150 261 -169 81 -15
199 -14 239 3 104 43 189 278 280 771 35 191 57 338 120 825 32 250 37 275 92
443 l57 178 -14 82 c-11 63 -13 156 -10 397 3 345 5 334 -55 346 -18 3 -37 0
-49 -10 -19 -14 -20 -24 -17 -175 3 -139 2 -161 -11 -161 -31 0 -66 164 -67
310 0 83 -21 175 -44 198 -14 14 -16 12 -27 -14 -6 -16 -15 -134 -20 -268 -5
-132 -12 -242 -14 -245 -3 -2 -5 7 -5 21 0 14 -6 28 -14 31 -27 11 -36 81 -36
282 0 215 -7 247 -49 253 -66 10 -101 -31 -101 -120 0 -29 10 -140 22 -245 17
-149 19 -196 10 -205 -17 -17 -38 40 -63 174 -36 200 -39 212 -67 263 -60 110
-81 46 -63 -190 15 -193 20 -221 44 -252 18 -22 22 -44 25 -145 3 -86 1 -118
-7 -118 -15 0 -38 53 -52 120 -13 59 -37 80 -91 80 -82 0 -103 -81 -56 -209
38 -100 79 -161 214 -317 49 -56 64 -82 73 -123 26 -120 5 -359 -43 -483 -13
-35 -69 -164 -124 -288 -55 -124 -107 -249 -117 -278 l-17 -52 -39 49 c-69 87
-255 221 -431 312 -115 59 -119 63 -142 210 -36 222 -122 357 -340 531 -224
180 -292 271 -220 298 66 25 92 5 154 -120 41 -84 76 -129 106 -141 32 -12 87
11 134 55 19 19 59 42 89 51 30 10 98 47 150 83 95 65 97 66 180 73 121 10
168 50 178 155 10 98 41 137 131 163 41 11 46 17 78 84 19 40 46 117 60 172
23 90 25 113 20 225 -13 310 -133 554 -320 645 -149 73 -380 104 -536 71 -136
-29 -254 -102 -316 -196 -13 -19 -55 -131 -93 -249 -69 -210 -110 -301 -134
-301 -7 0 -46 17 -87 38 -70 35 -76 40 -83 77 -20 98 -41 147 -99 236 -74 112
-261 304 -360 368 -52 34 -78 61 -122 125 -113 168 -222 274 -443 434 -118 86
-155 120 -257 237 -153 175 -247 255 -301 255 -28 0 -55 37 -49 67 3 17 -1 36
-9 47 -12 17 -34 20 -198 27 -282 12 -1438 18 -1669 9z m785 -6152 c294 -168
610 -323 772 -378 l83 -27 -103 -33 c-56 -18 -219 -76 -362 -130 -400 -150
-351 -141 -910 -171 -395 -21 -715 -12 -715 19 0 4 16 16 35 27 107 57 434
348 754 668 l184 185 66 -43 c36 -23 125 -76 196 -117z"
              />
            </g>
          </svg>
        </div>
      </>
    );
  } else {
    return <></>;
  }
};

export default Loader;
